(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{48:function(t,a,s){},50:function(t,a,s){"use strict";var e=s(48);s.n(e).a},52:function(t,a,s){"use strict";s.r(a);var e=s(6),i=s.n(e),r={props:{src:String,onClick:Function,alt:String},data:function(){return{loaded:!1}},methods:{setLoaded:function(t){this.loaded=t}}},n=s(10),p=Object(n.a)(r,(function(){var t=this.$createElement;return(this._self._c||t)("img",{style:{opacity:this.loaded?1:0,transitionDuration:"600ms"},attrs:{src:this.src,alt:this.alt,onLoad:this.setLoaded(!0)},on:{click:this.onClick}})}),[],!1,null,null,null).exports,o=s(24),l={props:{rating:Number},methods:{icon:function(t){return t<=Math.floor(this.rating)?"star_fill":t>Math.ceil(this.rating)?"star":"star_lefthalf_fill"}}},c=Object(n.a)(l,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"rating-stars"},t._l([1,2,3,4,5],(function(a){return s("f7-icon",{key:a,attrs:{f7:t.icon(a)}})})),1)}),[],!1,null,null,null).exports,v=s(14),f={components:{ScrenshotThumb:p,AppstoreBlockTitle:o.a,RatingStars:c},data:function(){var t=this.$f7route.params.id,a={5:500,4:100,3:80,2:50,1:200};return{id:t,backText:this.$f7route.params.backText,app:this.getAppById(t),ratingVotes:a,totalVotes:Object.values(a).reduce((function(t,a){return t+a})),showFullDescription:!1}},methods:{pageInit:function(){this.pb=this.$f7.photoBrowser.create({photos:i()(this.app.screenshots),toolbar:!1,navbarShowCount:!1})},pageDestroy:function(){this.pb&&this.pb.destroy()},openPhotoBrowser:function(t){this.pb&&this.pb.open(t)},createAppDescription:function(){return(this.app.description||"").replace(/\n/g,"<br>")},setShowFullDescription:function(t){this.showFullDescription=t},getAppById:function(t){return[].concat(i()(v.a),i()(v.b)).find((function(a){return a.id===parseInt(t,10)}))},formatDate:function(t){return new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}).format(new Date(t))}}},u=(s(50),Object(n.a)(f,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("f7-page",{on:{"page:init":t.pageInit,"page:beforeremove":t.pageDestroy}},[s("f7-navbar",{staticClass:"app-navbar",attrs:{transparent:"","back-link":t.backText||"Back"}},[s("div",{staticClass:"app-navbar-icon",attrs:{slot:"title"},slot:"title"},[s("img",{attrs:{src:t.app.icon,alt:t.app.title}})]),t._v(" "),s("div",{staticClass:"app-navbar-button",attrs:{slot:"right"},slot:"right"},[s("f7-button",{attrs:{external:"",target:"_blank",href:"https://drive.cyfan.top/appstore/id"+t.app.id+".html",round:"",fill:""}},[t._v("GET")])],1)]),t._v(" "),s("div",{staticClass:"block app-header"},[s("img",{staticClass:"app-header-icon",attrs:{src:t.app.icon,alt:t.app.title}}),t._v(" "),s("div",{staticClass:"app-header-content"},[s("div",{staticClass:"app-header-title"},[t._v(t._s(t.app.title))]),t._v(" "),s("div",{staticClass:"app-header-subtitle"},[t._v(t._s(t.app.subtitle))]),t._v(" "),s("div",{staticClass:"app-header-actions"},[s("f7-button",{attrs:{external:"",target:"_blank",href:"https://drive.cyfan.top/appstore/id"+t.app.id+".html",round:"",fill:""}},[t._v("GET")]),t._v(" "),s("f7-link",{attrs:{"icon-f7":"square_arrow_up"}})],1),t._v(" "),s("div",{staticClass:"app-header-ratings"},[s("div",{staticClass:"app-header-rating"},[s("div",{staticClass:"app-header-rating-value"},[t._v(t._s(t.app.rating))]),t._v(" "),s("RatingStars",{attrs:{rating:t.app.rating}}),t._v(" "),s("div",{staticClass:"app-header-rating-sub"},[t._v("930 Ratings")])],1)])])]),t._v(" "),s("div",{staticClass:"block app-screenshots"},t._l(t.app.screenshotsThumbs,(function(a,e){return s("ScrenshotThumb",{key:e,attrs:{onClick:function(){return t.openPhotoBrowser(e)},src:a,alt:"Screenshot"}})})),1),t._v(" "),s("div",{class:"block app-description "+(t.showFullDescription?"app-description-full":"")},[s("div",{staticClass:"app-description-content"},[s("div",{staticClass:"app-description-text",domProps:{innerHTML:t._s(t.createAppDescription())}}),t._v(" "),s("f7-link",{on:{click:function(a){return t.setShowFullDescription(!0)}}},[t._v("more")])],1)]),t._v(" "),s("AppstoreBlockTitle",{attrs:{title:"Ratings & Reviews"}},[s("f7-link",[t._v("See All")])],1),t._v(" "),s("div",{staticClass:"block app-ratings"},[s("div",{staticClass:"app-ratings-number"},[s("b",[t._v(t._s(t.app.rating))]),t._v(" "),s("span",[t._v("out of 5")])]),t._v(" "),s("div",{staticClass:"app-ratings-votes"},[t._l([5,4,3,2,1],(function(a){return s("div",{key:a,staticClass:"app-ratings-votes-row"},[s("div",{staticClass:"app-ratings-votes-stars"},t._l(Array.from({length:a}),(function(t,a){return s("f7-icon",{key:a,attrs:{f7:"star_fill"}})})),1),t._v(" "),s("div",{staticClass:"app-ratings-votes-progress"},[s("span",{style:{width:t.ratingVotes[a]/t.totalVotes*100+"%"}})])])})),t._v(" "),s("div",{staticClass:"app-ratings-votes-total"},[t._v(t._s(t.totalVotes)+" Ratings")])],2)]),t._v("\n      "+t._s()+"\n      "),s("div",{staticClass:"block app-reviews"},[t._v("\n 【评论暂时未开放】\n      ")]),t._v(" "),t.app.versions&&t.app.versions.length>0?[s("AppstoreBlockTitle",{attrs:{title:"What's New"}}),t._v(" "),s("div",{staticClass:"block"},[s("p",{staticClass:"display-flex justify-content-space-between",style:{opacity:.55}},[s("span",[t._v("Version "+t._s(t.app.versions[t.app.versions.length-1].version))]),t._v(" "),s("span",[t._v(t._s(t.formatDate(t.app.versions[t.app.versions.length-1].release_date)))])]),t._v(" "),s("p",[t._v(t._s(t.app.versions[t.app.versions.length-1].release_notes||""))])])]:t._e(),t._v(" "),s("AppstoreBlockTitle",{attrs:{title:"关于"}}),t._v(" "),s("f7-list",{staticClass:"safe-areas-inset app-information-list",attrs:{noHairlines:"",noChevron:""}},[s("f7-list-item",{attrs:{title:"提供者",after:t.app.developer.name}}),t._v(" "),s("f7-list-item",{attrs:{title:"大小",after:Math.floor(t.app.size/1e6)+" MB"}}),t._v(" "),s("f7-list-item",{attrs:{title:"支持",after:t.app.poweron}}),t._v(" "),s("f7-list-item",{attrs:{title:"语言",after:t.app.lan}}),t._v(" "),s("f7-list-item",{attrs:{title:"年龄限制",after:t.app.age}}),t._v(" "),s("f7-list-item",{attrs:{title:"越狱需求",after:t.app.realios}}),t._v(" "),s("f7-list-item",{attrs:{title:"是否秒装",after:t.app.onekeyapp}}),t._v(" "),s("f7-list-item",{attrs:{title:"版权",after:"© "+t.app.developer.name}}),t._v(" "),s("f7-list-item",{attrs:{link:""+t.app.developer.id,external:"",target:"_blank",title:"开发者网站"}},[s("f7-icon",{attrs:{slot:"after",f7:"compass"},slot:"after"})],1),t._v(" "),s("f7-list-item",{attrs:{link:"https://cyfan.top/privacy-policy/",external:"",target:"_blank",title:"隐私政策"}},[s("f7-icon",{attrs:{slot:"after",f7:"hand_raised_fill"},slot:"after"})],1)],1)],2)}),[],!1,null,null,null));a.default=u.exports}}]);
//# sourceMappingURL=app-details.js.map